#pragma once
#include "stdafx.h"
#include "UDPClient.h"
#define DEFAULT_PORT "27015"
#define DEFAULT_BUFLEN 512

class TCPClient3
{
private: 
	WSADATA	wsaData;
	char	recvbuf[DEFAULT_BUFLEN];
	int		iResult;
	int		recvbuflen = DEFAULT_BUFLEN;
	char userNamebuf[DEFAULT_BUFLEN];
	struct addrinfo *addressList = NULL;
	struct addrinfo *ptr = NULL;
	struct addrinfo hints;
	//Create a pointer to the server name
	TCHAR* serverName = "127.0.0.1";
	SOCKET ConnectSocket = INVALID_SOCKET;
	char sendbuf[1000];
	char servBuff[1000];
	int ipBuff;
	UDPClient myClient;
	
public:
	TCPClient3();
	~TCPClient3();
	////////////////////////////////////////////////////////////////////////////////////////////////////
	//Connect to the server
	////////////////////////////////////////////////////////////////////////////////////////////////////
	int connectServer(TCHAR* serverName);
	////////////////////////////////////////////////////////////////////////////////////////////////////
	//Establish the connection to the server
	////////////////////////////////////////////////////////////////////////////////////////////////////	
	int establishConnection(TCHAR* serverName);
	////////////////////////////////////////////////////////////////////////////////////////////////////
	//Disconnect from the server when exiting...
	////////////////////////////////////////////////////////////////////////////////////////////////////
	int disconnectServer(void);

};

